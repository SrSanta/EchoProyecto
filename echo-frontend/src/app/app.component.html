<div class="vaporwave-effect">
  <header>
    <h1><a routerLink="/" class="window">Echo ğŸµ</a></h1>
    
    <nav>
      <a routerLink="/songs" routerLinkActive="active">ğŸµ Canciones</a>
      <a routerLink="/public-playlists" routerLinkActive="active">ğŸ“‹ Explorar Playlists</a>
      
      @if (isLoggedIn$ | async; as loggedIn) {
        <a routerLink="/upload-song" routerLinkActive="active">â¬†ï¸ Subir CanciÃ³n</a>
        <a routerLink="/playback-history" routerLinkActive="active">â±ï¸ Historial</a>
        <a routerLink="/profile" routerLinkActive="active">ğŸ‘¤ Mi Perfil</a>
        <div>
          <span>ğŸ‘‹ Hola, {{ username$ | async }}</span>
          <button (click)="logout()" class="logout-btn">ğŸšª Cerrar SesiÃ³n</button>
        </div>
      } @else {
        <div>
          <a routerLink="/login" routerLinkActive="active">ğŸ”‘ Iniciar SesiÃ³n</a>
          <a routerLink="/register" routerLinkActive="active">ğŸ“ Registrarse</a>
        </div>
      }
    </nav>
  </header>

  <main class="window" style="margin: 20px auto; min-height: 60vh;">
    <div class="window-content">
      <router-outlet></router-outlet>
    </div>
  </main>


  <!-- Reproductor de mÃºsica flotante -->
  <div class="floating-player">
    @if (currentSongForPlayer$ | async; as currentSong) {
      <app-song-player [song]="currentSong"></app-song-player>
    } @else {
      <app-song-player></app-song-player>
    }
  </div>

  <footer>
    <div class="window" style="margin: 0; border-radius: 0;">
      <div class="window-content" style="text-align: center; padding: 8px;">
        <p style="margin: 0;">
          <span style="font-weight: bold;">Echo Player v1.0</span> | 
          &copy; {{ getYear() }} Echo App. 
          <span style="color: #ff00ff;">Windows 95 Vaporwave Edition</span>
        </p>
      </div>
    </div>
  </footer>
</div>
