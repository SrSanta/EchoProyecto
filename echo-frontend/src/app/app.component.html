<header>
  <h1><a routerLink="/">Echo üé∂</a></h1>

  <nav>
    <a routerLink="/songs">Canciones</a>

    @if (isLoggedIn$ | async; as loggedIn) {
      <a routerLink="/upload-song">Subir Canci√≥n</a>
      <div>
         <span>Hola, {{ username$ | async }}</span>
         <button (click)="logout()">Cerrar Sesi√≥n</button>
      </div>

    } @else {
       <div>
         <a routerLink="/login">Iniciar Sesi√≥n</a>
         <a routerLink="/register">Registrarse</a>
       </div>
    }
  </nav>
</header>

<main class="container">
  <router-outlet></router-outlet>
</main>

<!-- Mini player flotante -->
<div *ngIf="hasSongsInQueue" class="mini-player-float">
  <app-playback-queue></app-playback-queue>
  @if (currentSongForPlayer$ | async; as currentSong) {
    <app-song-player [song]="currentSong"></app-song-player>
  }
</div>

<footer>
  <p>&copy; {{ getYear() }} Echo App. Todos los derechos reservados.</p>
</footer>
